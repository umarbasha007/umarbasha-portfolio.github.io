<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="Description" content="Portfolio of Umar Basha"/>

        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
            integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
            crossorigin="anonymous">

        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css">
        <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700,900">
        <link
            rel="stylesheet"
            href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css">

        <link rel="stylesheet" href="scss/home.css">
        <link rel="stylesheet" href="scss/about.css">
        <link rel="stylesheet" href="scss/fun.css">
        <link rel="stylesheet" href="scss/animation.css">
        <link rel="stylesheet" href="scss/typing.css">
        <link rel="stylesheet" href="scss/tower-game.css">

        <link type="text/css" rel="stylesheet" href="assets/animation/css/main.css">
        <style>
            a {
                color: #f00;
            }
            .ac {
                /* prevent dat-gui from being selected */
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            .no-pointer-events {
                pointer-events: none;
            }
            .control-disabled {
                color: #888;
                text-decoration: line-through;
            }
        </style>

        <link rel="icon" href="./assets/images/UT-icon.svg">
        <title>Umar Basha - Portfolio</title>

        <script>
            document.onreadystatechange = function () {
                if (document.readyState !== "complete") {
                    document
                        .querySelector("body")
                        .style
                        .visibility = "hidden";
                    document
                        .querySelector("#loader")
                        .style
                        .visibility = "visible";
                } else {
                    document
                        .querySelector("#loader")
                        .style
                        .display = "none";
                    document
                        .querySelector("body")
                        .style
                        .visibility = "visible";
                }
            };
        </script>
    </head>
    <body>

        <div id="loader" class="center"></div>

        <!-- Home -->
        <div class="home-div">
            <div class="shadow-title parallax-top-shadow">PASSION</div>
            <div
                class="section-parallax parallax-00"
                style="background-image: url('http://www.ivang-design.com/svg-load/parallax/parallax-0.png');"></div>
            <div
                class="section-parallax parallax-01"
                style="background-image: url('http://www.ivang-design.com/svg-load/parallax/parallax-01.png');"></div>

            <div class="section full-height">
                <div class="section-title-wrap">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 text-center parallax-fade-top">
                                <p>we develop future</p>
                                <h1 class="">chase your
                                </br>passion with me
                            </br>
                        </h1>
                        <h3>
                            <span class="sample-bar">
                                -
                            </span>
                            <span class="typed"></span>
                        </h3>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="section full-height z-bigger">
        <ul class="case-study-wrapper">
            <li class="case-study-name">
                <a class="hover-target">Umar</a>
            </li>
            <li class="case-study-name">
                <a class="hover-target">Basha</a>
            </li>
            @
            <li class="case-study-name">
                <a class="hover-target">Tech</a>
            </li>
            <li class="case-study-name">
                <a class="hover-target">Monk</a>
            </li>
        </ul>
        <ul class="case-study-images">
            <li>
                <div class="img-hero-background">
                    <!-- http://www.ivang-design.com/svg-load/parallax/light.jpg -->
                    <img src="./assets/images/umar.jpg" alt="umar - pic">
                </div>
                <div class="hero-number-back">01</div>
                <div class="hero-number">01</div>
                <div class="hero-number-fixed">04</div>
                <div class="case-study-title">Software Engineer, Developer</div>
            </li>
            <li>
                <div class="img-hero-background">
                    <!-- http://www.ivang-design.com/svg-load/parallax/flare.jpg -->
                    <img src="./assets/images/iot2.jpg" alt="basha - pic">
                </div>
                <div class="hero-number-back">02</div>
                <div class="hero-number">02</div>
                <div class="case-study-title">Use Open Software, Hardware</div>
            </li>
            <li>
                <div class="img-hero-background">
                    <!-- http://www.ivang-design.com/svg-load/parallax/nature.jpg -->
                    <img src="./assets/images/tech.jpg" alt="tech - pic">
                </div>
                <div class="hero-number-back">03</div>
                <div class="hero-number">03</div>
                <div class="case-study-title">Artificial Intelligence, Automation</div>
            </li>
            <li>
                <div class="img-hero-background">
                    <!-- http://www.ivang-design.com/svg-load/parallax/fire.jpg -->
                    <img src="./assets/images/monk.jpg" alt="monk - pic">
                </div>
                <div class="hero-number-back">04</div>
                <div class="hero-number">04</div>
                <div class="case-study-title">Never Give Up, Persistence, Passion</div>
            </li>
        </ul>
    </div>

    <div class="section padding-top-bottom over-hide background-dark z-bigger-2">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-7 text-center">
                    <a href="#" class="hover-target">
                        <div class="project-link-wrap">
                            <p>let's know me</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll back to top ================================================== -->

    <div class="scroll-to-top hover-target"></div>

    <!-- Page cursor ================================================== -->

    <div class='cursor' id="cursor"></div>
    <div class='cursor2' id="cursor2"></div>
    <div class='cursor3' id="cursor3"></div>

    <!-- Link to page ================================================== -->

    <a href="#" class="link-to-portfolio hover-target"></a>
</div>

<!--About-->
<div class="about">
    <!-- <div class="shadow-title-2 parallax-top-shadow-2">KNOW ME</div> -->

    <div class="mhn-ui-info">Draw 'U' shape from top left to unlock & know me
        <i id="phone-smile" class='fas fa-smile hover-target' style='font-size:18px'></i>
    </div>
</div>

<div class="iphone-frame">
    <div class="device-middle">
        <div class="md-iphone-5 md-black-device md-glare">
            <div class="md-body">
                <div class="md-buttons"></div>
                <div class="md-front-camera"></div>
                <div class="md-top-speaker"></div>

                <div class="md-screen">
                    <!-- phone screen-->
                    <div class="mhn-ui-wrap">
                        <div class="mhn-ui-page page-lock">
                            <div class="mhn-ui-date-time">
                                <div class="mhn-ui-time">6:02 PM</div>
                                <div class="mhn-ui-day">Friday</div>
                                <div class="mhn-ui-date">September 05, 2015</div>
                            </div>
                            <div class="mhn-lock-wrap">
                                <div class="mhn-lock-title" data-title="Draw a pattern to unlock"></div>
                                <div class="mhn-lock"></div>
                            </div>
                        </div>

                        <div class="mhn-ui-page page-home">
                            <div class="mhn-ui-app-time">&nbsp;</div>
                            <div class="mhn-ui-app-title-head">
                                <span class="mhn-ui-page-title">All Application</span>
                                <div class="mhn-ui-filter">
                                    <span class="mhn-ui-btn ion-funnel"></span>
                                    <div class="mhn-ui-filter-list">
                                        <div data-filter="all" class="active">All Application</div>
                                        <div data-filter="general">General Application</div>
                                        <div data-filter="social">Social Application</div>

                                    </div>
                                </div>
                            </div>
                            <div class="mhn-ui-row mhn-ui-apps">
                                <div class="mhn-ui-col" data-filter="general">
                                    <div class="mhn-ui-icon" data-open="page-author">
                                        <span data-color="#2980b9">
                                            <i class="fas fa-user-tie"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">Author</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="general">
                                    <div class="mhn-ui-icon" data-open="page-contact">
                                        <span data-color="#8e44ad">
                                            <i class="fas fa-phone-alt"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">Contact</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="general">
                                    <div class="mhn-ui-icon" data-open="page-tower">
                                        <span class="ion-ios-briefcase" data-color="#f39c12"></span>
                                        <div class="mhn-ui-icon-title">Tower Brick</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="general">
                                    <div class="mhn-ui-icon" data-open="page-credits">
                                        <span data-color="#16a085">
                                            <i class="fas fa-award"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">Credits</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="social">
                                    <div class="mhn-ui-icon" data-href="https://www.linkedin.com/in/umarbasha007/">
                                        <span data-color="#56a3d9">
                                            <i class="fab fa-linkedin-in"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">LinkedIn</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="social">
                                    <div class="mhn-ui-icon" data-href="https://facebook.com/umarbasha007">
                                        <span data-color="#3b5998">
                                            <i class="fab fa-facebook-f"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">Facebook</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="social">
                                    <div class="mhn-ui-icon" data-href="https://www.instagram.com/umarbasha_techmonk/">
                                        <span data-color="#ec4a89">
                                            <i class="fab fa-instagram"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">Instagram</div>
                                    </div>
                                </div>
                                <div class="mhn-ui-col" data-filter="social">
                                    <div class="mhn-ui-icon" data-href="https://github.com/umarbasha007">
                                        <span data-color="#1e1e1e">
                                            <i class="fab fa-github"></i>
                                        </span>
                                        <div class="mhn-ui-icon-title">GitHub</div>
                                    </div>
                                </div>

                            </div>
                            <div class="mhn-ui-bottom-link-bar">
                                <span class="mhn-ui-bottom-btn ion-ios-home"></span>
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-locked"
                                    onclick="mhnUI.page.show('page-lock')"></span>
                            </div>
                        </div>

                        <div class="mhn-ui-page page-author">
                            <div class="mhn-ui-app-time"></div>
                            <div class="mhn-ui-app-title-head">
                                <span class="ion-person"></span>
                                Umar Basha - Tech Monk</div>
                            <div class="text-center"><img class="flipInX animated" src="assets/images/profile.jpg" alt="Umar Basha"></div>

                            <p class="text-center">Hi, It's Umar Basha alias Tech Monk. I'm a Full Stack
                                Developer and Machine Learning Engineer.
                                <br/><br/>Developing & working on creative tech ideas is my passion and I have
                                    been working on various challenging projects.</p>
                            <div class="mhn-ui-bottom-link-bar">
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-home"
                                    onclick="mhnUI.page.show('page-home')"></span>
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-locked"
                                    onclick="mhnUI.page.show('page-lock')"></span>
                            </div>
                        </div>

                        <div class="mhn-ui-page page-tower">
                            <div class="mhn-ui-app-time"></div>
                            <div class="mhn-ui-app-title-head">
                                <span class="ion-person"></span>
                                2048</div>
                                
                                <div class="container2">
                                    <div class="heading">
                                      <h1 class="title">2048</h1>
                                      <div class="score-container">0</div>
                                    </div>
                                    <p class="game-intro">Join the numbers and get to the <strong>2048 tile!</strong></p>
                                  
                                    <div class="game-container">
                                      <div class="game-message">
                                        <p></p>
                                        <div class="lower">
                                          <a class="retry-button">Try again</a>
                                        </div>
                                      </div>
                                  
                                      <div class="grid-container">
                                        <div class="grid-row">
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                        </div>
                                        <div class="grid-row">
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                        </div>
                                        <div class="grid-row">
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                        </div>
                                        <div class="grid-row">
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                          <div class="grid-cell"></div>
                                        </div>
                                      </div>
                                  
                                      <div class="tile-container">
                                  
                                      </div>
                                    </div>
                                  
                                    <p class="game-explanation">
                                      <strong class="important">How to play:</strong> Use your <strong>arrow keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong>
                                    </p>
                                    <hr>
                                    <p>
                                    Created by <a href="http://gabrielecirulli.com" target="_blank">Gabriele Cirulli.</a> Based on <a href="https://itunes.apple.com/us/app/1024!/id823499224" target="_blank">1024 by Veewo Studio</a> and conceptually similar to <a href="http://asherv.com/threes/" target="_blank">Threes by Asher Vollmer.</a>
                                    </p>
                                  </div>
                                  

                            
                            <div class="mhn-ui-bottom-link-bar">
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-home"
                                    onclick="mhnUI.page.show('page-home')"></span>
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-locked"
                                    onclick="mhnUI.page.show('page-lock')"></span>
                            </div>
                        </div>

                        <div class="mhn-ui-page page-contact">
                            <div class="mhn-ui-app-time">&nbsp;</div>
                            <div class="mhn-ui-app-title-head">
                                <span class="ion-chatbox"></span>
                                Contact</div>

                            <div class="page-contact-content">
                                <img
                                    id="phone-contact-img"
                                    class="text-center"
                                    src="./assets/images/contact-me.jpg"
                                    alt="Contact Me">
                                <p>"<span class='typed-hello'></span>"</p>
                                <p>
                                    <i
                                        class='fas fa-user-graduate hover-target'
                                        style='font-size:18px; margin: 10px;'></i>Umar Basha</p>
                                <p>
                                    <i class='fas fa-mobile-alt hover-target' style='font-size:18px; margin: 10px;'></i>+91-9618653385
                                </p>
                                <p>
                                    <i
                                        class='fas fa-envelope-open-text hover-target'
                                        style='font-size:18px; margin: 10px;'></i>
                                    <a href="mailto:umarbasha007@gmail.com">umarbasha007@gmail.com</a>
                                </p>
                            </div>

                            <div class="mhn-ui-bottom-link-bar">
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-home"
                                    onclick="mhnUI.page.show('page-home')"></span>
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-locked"
                                    onclick="mhnUI.page.show('page-lock')"></span>
                            </div>
                        </div>

                        <div class="mhn-ui-page page-credits">
                            <div class="mhn-ui-app-time">&nbsp;</div>
                            <div class="mhn-ui-app-title-head">
                                <span class="ion-information-circled"></span>
                                Credits</div>
                            <div class="mhn-ui-credit-list">
                                <div class="mhn-ui-credit">
                                    <a href="https://jquery.com/" target="_blank">https://jquery.com/</a>
                                    <p>jQuery is a fast, small, and feature-rich JavaScript library.</p>
                                </div>
                                <div class="mhn-ui-credit">
                                    <a href="http://ionicons.com/" target="_blank">http://ionicons.com/</a>
                                    <p>The premium icon font for Ionic Framework.</p>
                                </div>
                                <div class="mhn-ui-credit">
                                    <a href="https://daneden.github.io/animate.css/" target="_blank">https://daneden.github.io/animate.css/</a>
                                    <p>Just-add-water CSS animations.</p>
                                </div>
                                <div class="mhn-ui-credit">
                                    <a href="http://unsplash.com/" target="_blank">http://unsplash.com/</a>
                                    <p>Free (do whatever you want) hi-res photos.</p>
                                </div>
                                <div class="mhn-ui-credit">
                                    <a href="https://github.com/s-yadav/patternLock" target="_blank">https://github.com/s-yadav/patternLock</a>
                                    <p>A light weight plugin to simulate android like pattern lock interface for
                                        your hybrid app or website.</p>
                                </div>
                            </div>
                            <div class="mhn-ui-bottom-link-bar">
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-home"
                                    onclick="mhnUI.page.show('page-home')"></span>
                                <span
                                    class="mhn-ui-bottom-btn ion-ios-locked"
                                    onclick="mhnUI.page.show('page-lock')"></span>
                            </div>
                        </div>
                        <div class="mhn-ui-dialog-wrap">
                            <div class="mhn-ui-dialog">
                                <div class="mhn-ui-dialog-title">Are you sure?</div>
                                <p>This application wants to open an external link. To confirm, please click on
                                    yes button.</p>
                                <a data-action="confirm" class="mhn-ui-dialog-btn" target="_blank">Yes</a>
                                <a data-action="cancel" class="mhn-ui-dialog-btn">No</a>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="md-home-button"></button>
            </div>
        </div>
    </div>
</div>

<!-- Fun -->
<div class="fun">

    <!-- <div id="mainB"> <div class="bg"> <div class="bg1"> </div> </div> </div>
    -->

    <div class="over">
        <div class="dial">
            <div class="grad"></div>
        </div>
        <div class="icon-container">
            <div class="nav">
                <ul id="fun-nav">
                    <li id="settings">
                        <a>
                            <img src="http://grantcr.com/files/settings.png"/>
                        </a>
                    </li>
                    <li id="photo" class="active">
                        <a>
                            <img src="http://grantcr.com/files/iphoto.png"/>
                        </a>
                    </li>
                    <!-- <li id="cloud" class="active"> <a> <img
                    src="http://grantcr.com/files/icloud.png" /> </a> </li> -->
                    <!-- <li id="portfolio"> <a> <img src="http://grantcr.com/files/portfolio.png"
                    /> </a> </li> -->

                    <li id="email">
                        <a onclick="onclick">
                            <img src="http://grantcr.com/files/iemail.png"/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div id="fun-animation">
        <div id="container">
            <!-- -->
            <audio
                id="song-audio"
                controls="controls"
                preload="preload"
                autoplay="autoplay"
                loop="loop">

                <source src="./assets/music/Dance-Monkey.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>

        </div>
    </div>

    <div id="fun-social" class="container">

        <div class="row">
            <!-- <h1>Social Media</h1> -->
            <div class="social-image">

                <!-- <i class='fas fa-air-freshener' style='font-size:36px'></i> -->

                <div class="left-social-image">
                    <div id="linked-image">
                        <a href="https://www.linkedin.com/in/umarbasha007/" target="_blank"><img class="hover-target" src="./assets/images/icons-linkedin.svg" alt="LinkedIn"></a>
                        
                    </div>
                    <div id="github-image">
                        <a href="https://github.com/umarbasha007" target="_blank"><img class="hover-target" src="./assets/images/icons-github.svg" alt="GitHub"> </a>
                        
                    </div>
                </div>
                <div class="social-watch-image">
                    <img src="./assets/images/social-do-it.svg" alt="Just Do It">

                </div>

                <div class="right-social-image">
                    <div id="instagram-image">
                        <a href="https://www.instagram.com/umarbasha_techmonk/" target="_blank">
                        <img
                            class="hover-target"
                            src="./assets/images/icons-instagram.svg"
                            alt="Instagram"></a>
                    </div>
                    <div id="facebook-image">
                        <a href="https://facebook.com/umarbasha007" target="_blank">
                        <img
                            class="hover-target"
                            src="./assets/images/icons-facebook.svg"
                            alt="Facebook"></a>
                    </div>

                </div>

            </div>

        </div>

    </div>

    <div id="fun-contact" class="container">
        <h2>Want to contact me?</h2>
        <p>Enter your message or send email to umarbasha007@gmail.com</p>

        <div class="contact-input">
            <i class='fas fa-smile hover-target' style='font-size:36px'></i>
            <input type="text" name="name" placeholder="Name" id="name-id">
        </div>
        <div class="contact-input">
            <i class='fas fa-envelope hover-target' style='font-size:36px'></i>
            <input type="email" name="email" placeholder="Email ID" id="email-id">
        </div>
        <div class="contact-input">
            <textarea
                name="message"
                id=""
                placeholder="Please, type your message"
                cols="30"
                rows="10"></textarea>
        </div>
        <div class="contact-send hover-target">
            <i class='fas fa-paper-plane' style='font-size:36px'></i>
            <input type="button" value="Send">
        </div>

    </div>

    <div class="footer container">

        <p>
            <i class='fas fa-code' style='font-size:18px'></i>
            Developed by
            <a class="hover-target" href="">Umar Basha</a>
        </p>
    </div>
</div>

<script
    src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>

<script src="js/home.js"></script>
<script src="js/about.js"></script>
<script src="js/fun.js"></script>
<script src="js/typing.js"></script>
<script src="js/tower-game.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- // fontawesome 5 -->
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<!-- Typed.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/1.1.1/typed.min.js"></script>

<!-- Tower Game  -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/1.0.6/hammer.min.js"></script>



<script type="module">

    import * as THREE from './assets/animation/build/three.module.js';

    import Stats from './assets/animation/jsm/libs/stats.module.js';
    import {GUI} from './assets/animation/jsm/libs/dat.gui.module.js';

    import {GLTFLoader} from './assets/animation//jsm/loaders/GLTFLoader.js';

    var scene,
        renderer,
        camera,
        stats;
    var model,
        skeleton,
        mixer,
        clock;

    var crossFadeControls = [];

    var idleAction,
        walkAction,
        runAction;
    var idleWeight,
        walkWeight,
        runWeight;
    var actions,
        settings;

    var singleStepMode = false;
    var sizeOfNextStep = 0;

    init();

    function init() {

        var container = document.getElementById('container');

        camera = new THREE.PerspectiveCamera(
            45,
            window.innerWidth / window.innerHeight,
            1,
            1000
        );
        camera
            .position
            .set(1, 2, - 3);
        camera.lookAt(0, 1, 0);

        clock = new THREE.Clock();

        scene = new THREE.Scene();
        scene.background = new THREE.Color(0xa0a0a0);
        scene.fog = new THREE.Fog(0xa0a0a0, 10, 50);

        var hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);
        hemiLight
            .position
            .set(0, 20, 0);
        scene.add(hemiLight);

        var dirLight = new THREE.DirectionalLight(0xffffff);
        dirLight
            .position
            .set(- 3, 10, - 10);
        dirLight.castShadow = true;
        dirLight.shadow.camera.top = 2;
        dirLight.shadow.camera.bottom = -2;
        dirLight.shadow.camera.left = -2;
        dirLight.shadow.camera.right = 2;
        dirLight.shadow.camera.near = 0.1;
        dirLight.shadow.camera.far = 40;
        scene.add(dirLight);

        // scene.add( new CameraHelper( light.shadow.camera ) ); ground

        var mesh = new THREE.Mesh(
            new THREE.PlaneBufferGeometry(100, 100),
            new THREE.MeshPhongMaterial({color: 0x999999, depthWrite: false})
        );
        mesh.rotation.x = -Math.PI / 2;
        mesh.receiveShadow = true;
        scene.add(mesh);

        var loader = new GLTFLoader();
        loader.load('assets/animation/models/gltf/Soldier.glb', function (gltf) {

            model = gltf.scene;
            scene.add(model);

            model.traverse(function (object) {

                if (object.isMesh) 
                    object.castShadow = true;

                }
            );

            //

            skeleton = new THREE.SkeletonHelper(model);
            skeleton.visible = false;
            scene.add(skeleton);

            //

            createPanel();

            //

            var animations = gltf.animations;

            mixer = new THREE.AnimationMixer(model);

            idleAction = mixer.clipAction(animations[0]);
            walkAction = mixer.clipAction(animations[3]);
            runAction = mixer.clipAction(animations[1]);

            actions = [idleAction, walkAction, runAction];

            activateAllActions();

            animate();

        });

        renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.outputEncoding = THREE.sRGBEncoding;
        renderer.shadowMap.enabled = true;
        container.appendChild(renderer.domElement);

        stats = new Stats();
        container.appendChild(stats.dom);

        window.addEventListener('resize', onWindowResize, false);

    }

    function createPanel() {

        var panel = new GUI({width: 310});

        var folder1 = panel.addFolder('Visibility');
        var folder2 = panel.addFolder('Activation/Deactivation');
        var folder3 = panel.addFolder('Pausing/Stepping');
        var folder4 = panel.addFolder('Crossfading');
        var folder5 = panel.addFolder('Blend Weights');
        var folder6 = panel.addFolder('General Speed');

        settings = {
            'show model': true,
            'show skeleton': false,
            'deactivate all': deactivateAllActions,
            'activate all': activateAllActions,
            'pause/continue': pauseContinue,
            'make single step': toSingleStepMode,
            'modify step size': 0.05,
            'from walk to idle': function () {

                prepareCrossFade(walkAction, idleAction, 1.0);

            },
            'from idle to walk': function () {

                prepareCrossFade(idleAction, walkAction, 0.5);

            },
            'from walk to run': function () {

                prepareCrossFade(walkAction, runAction, 2.5);

            },
            'from run to walk': function () {

                prepareCrossFade(runAction, walkAction, 5.0);

            },
            'use default duration': true,
            'set custom duration': 3.5,
            'modify idle weight': 0.0,
            'modify walk weight': 1.0,
            'modify run weight': 0.0,
            'modify time scale': 1.0
        };

        folder1
            .add(settings, 'show model')
            .onChange(showModel);
        folder1
            .add(settings, 'show skeleton')
            .onChange(showSkeleton);
        folder2.add(settings, 'deactivate all');
        folder2.add(settings, 'activate all');
        folder3.add(settings, 'pause/continue');
        folder3.add(settings, 'make single step');
        folder3.add(settings, 'modify step size', 0.01, 0.1, 0.001);
        crossFadeControls.push(folder4.add(settings, 'from walk to idle'));
        crossFadeControls.push(folder4.add(settings, 'from idle to walk'));
        crossFadeControls.push(folder4.add(settings, 'from walk to run'));
        crossFadeControls.push(folder4.add(settings, 'from run to walk'));
        folder4.add(settings, 'use default duration');
        folder4.add(settings, 'set custom duration', 0, 10, 0.01);
        folder5
            .add(settings, 'modify idle weight', 0.0, 1.0, 0.01)
            .listen()
            .onChange(function (weight) {

                setWeight(idleAction, weight);

            });
        folder5
            .add(settings, 'modify walk weight', 0.0, 1.0, 0.01)
            .listen()
            .onChange(function (weight) {

                setWeight(walkAction, weight);

            });
        folder5
            .add(settings, 'modify run weight', 0.0, 1.0, 0.01)
            .listen()
            .onChange(function (weight) {

                setWeight(runAction, weight);

            });
        folder6
            .add(settings, 'modify time scale', 0.0, 1.5, 0.01)
            .onChange(modifyTimeScale);

        folder1.open();
        folder2.open();
        folder3.open();
        folder4.open();
        folder5.open();
        folder6.open();

        crossFadeControls.forEach(function (control) {

            control.classList1 = control.domElement.parentElement.parentElement.classList;
            control.classList2 = control.domElement.previousElementSibling.classList;

            control.setDisabled = function () {

                control
                    .classList1
                    .add('no-pointer-events');
                control
                    .classList2
                    .add('control-disabled');

            };

            control.setEnabled = function () {

                control
                    .classList1
                    .remove('no-pointer-events');
                control
                    .classList2
                    .remove('control-disabled');

            };

        });

    }

    function showModel(visibility) {

        model.visible = visibility;

    }

    function showSkeleton(visibility) {

        skeleton.visible = visibility;

    }

    function modifyTimeScale(speed) {

        mixer.timeScale = speed;

    }

    function deactivateAllActions() {

        actions.forEach(function (action) {

            action.stop();

        });

    }

    function activateAllActions() {

        setWeight(idleAction, settings['modify idle weight']);
        setWeight(walkAction, settings['modify walk weight']);
        setWeight(runAction, settings['modify run weight']);

        actions.forEach(function (action) {

            action.play();

        });

    }

    function pauseContinue() {

        if (singleStepMode) {

            singleStepMode = false;
            unPauseAllActions();

        } else {

            if (idleAction.paused) {

                unPauseAllActions();

            } else {

                pauseAllActions();

            }

        }

    }

    function pauseAllActions() {

        actions.forEach(function (action) {

            action.paused = true;

        });

    }

    function unPauseAllActions() {

        actions.forEach(function (action) {

            action.paused = false;

        });

    }

    function toSingleStepMode() {

        unPauseAllActions();

        singleStepMode = true;
        sizeOfNextStep = settings['modify step size'];

    }

    function prepareCrossFade(startAction, endAction, defaultDuration) {

        // Switch default / custom crossfade duration (according to the user's choice)

        var duration = setCrossFadeDuration(defaultDuration);

        // Make sure that we don't go on in singleStepMode, and that all actions are
        // unpaused

        singleStepMode = false;
        unPauseAllActions();

        // If the current action is 'idle' (duration 4 sec), execute the crossfade
        // immediately; else wait until the current action has finished its current loop

        if (startAction === idleAction) {

            executeCrossFade(startAction, endAction, duration);

        } else {

            synchronizeCrossFade(startAction, endAction, duration);

        }

    }

    function setCrossFadeDuration(defaultDuration) {

        // Switch default crossfade duration <-> custom crossfade duration

        if (settings['use default duration']) {

            return defaultDuration;

        } else {

            return settings['set custom duration'];

        }

    }

    function synchronizeCrossFade(startAction, endAction, duration) {

        mixer.addEventListener('loop', onLoopFinished);

        function onLoopFinished(event) {

            if (event.action === startAction) {

                mixer.removeEventListener('loop', onLoopFinished);

                executeCrossFade(startAction, endAction, duration);

            }

        }

    }

    function executeCrossFade(startAction, endAction, duration) {

        // Not only the start action, but also the end action must get a weight of 1
        // before fading (concerning the start action this is already guaranteed in this
        // place)

        setWeight(endAction, 1);
        endAction.time = 0;

        // Crossfade with warping - you can also try without warping by setting the
        // third parameter to false

        startAction.crossFadeTo(endAction, duration, true);

    }

    // This function is needed, since animationAction.crossFadeTo() disables its
    // start action and sets the start action's timeScale to ((start animation's
    // duration) / (end animation's duration))

    function setWeight(action, weight) {

        action.enabled = true;
        action.setEffectiveTimeScale(1);
        action.setEffectiveWeight(weight);

    }

    // Called by the render loop

    function updateWeightSliders() {

        settings['modify idle weight'] = idleWeight;
        settings['modify walk weight'] = walkWeight;
        settings['modify run weight'] = runWeight;

    }

    // Called by the render loop

    function updateCrossFadeControls() {

        crossFadeControls.forEach(function (control) {

            control.setDisabled();

        });

        if (idleWeight === 1 && walkWeight === 0 && runWeight === 0) {

            crossFadeControls[1].setEnabled();

        }

        if (idleWeight === 0 && walkWeight === 1 && runWeight === 0) {

            crossFadeControls[0].setEnabled();
            crossFadeControls[2].setEnabled();

        }

        if (idleWeight === 0 && walkWeight === 0 && runWeight === 1) {

            crossFadeControls[3].setEnabled();

        }

    }

    function onWindowResize() {

        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        renderer.setSize(window.innerWidth, window.innerHeight);

    }

    function animate() {

        // Render loop

        requestAnimationFrame(animate);

        idleWeight = idleAction.getEffectiveWeight();
        walkWeight = walkAction.getEffectiveWeight();
        runWeight = runAction.getEffectiveWeight();

        // Update the panel values if weights are modified from "outside" (by
        // crossfadings)

        updateWeightSliders();

        // Enable/disable crossfade controls according to current weight values

        updateCrossFadeControls();

        // Get the time elapsed since the last frame, used for mixer update (if not in
        // single step mode)

        var mixerUpdateDelta = clock.getDelta();

        // If in single step mode, make one step and then do nothing (until the user
        // clicks again)

        if (singleStepMode) {

            mixerUpdateDelta = sizeOfNextStep;
            sizeOfNextStep = 0;

        }

        // Update the animation mixer, the stats panel, and render this frame

        mixer.update(mixerUpdateDelta);

        stats.update();

        renderer.render(scene, camera);

    }
</script>

</body>
</html>